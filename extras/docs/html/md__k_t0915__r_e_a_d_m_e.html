<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.17"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>PU2CLR KT0915 Arduino Library: PU2CLR KT0915 Arduino Library</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">PU2CLR KT0915 Arduino Library
   &#160;<span id="projectnumber">1.0.1</span>
   </div>
   <div id="projectbrief">This is an Arduino Library to control the KT0915 device</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.17 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('md__k_t0915__r_e_a_d_m_e.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">PU2CLR <a class="el" href="group___g_a01.html#class_k_t0915" title="KT0915 Class.">KT0915</a> Arduino Library </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p><b>ATTENTION: This library is under construction...</b></p>
<p><img src="https://pu2clr.github.io/KT0915/extras/images/under_construction.png" alt="Under construction" class="inline"/></p>
<p><b>Coming soon</b></p>
<p>This is an Arduino Library to control the <a class="el" href="group___g_a01.html#class_k_t0915" title="KT0915 Class.">KT0915</a> DSP receiver from KTMicro. The <a class="el" href="group___g_a01.html#class_k_t0915" title="KT0915 Class.">KT0915</a> is an integrated circuit that provides full band receiver on FM and AM (MW/SW/LW).</p>
<p><a href="https://pu2clr.github.io/KT0915#mit-license">Copyright (c) 2020 Ricardo Lima Caratti</a>.</p>
<p>Contact: <a href="#" onclick="location.href='mai'+'lto:'+'__p'+'u2'+'clr'+'@g'+'mai'+'l.'+'com'+'__'; return false;">__pu2<span style="display: none;">.nosp@m.</span>clr@<span style="display: none;">.nosp@m.</span>gmail<span style="display: none;">.nosp@m.</span>.com<span style="display: none;">.nosp@m.</span>__</a>.</p>
<p>Be a member of Facebook group <a href="https://www.facebook.com/groups/2655942598067211">DSP receivers for hobbyists</a></p>
<h1><a class="anchor" id="autotoc_md1"></a>
Contents</h1>
<ol type="1">
<li><a href="https://pu2clr.github.io/KT0915#preface">Preface</a></li>
<li><a href="https://pu2clr.github.io/KT0915#your-support-is-important">Your support is important</a></li>
<li><a href="https://pu2clr.github.io/KT0915#library-features">Library Features</a></li>
<li><a href="https://pu2clr.github.io/KT0915#mit-license">MIT License</a></li>
<li><a href="https://pu2clr.github.io/KT0915#library-installation">Library Installation</a></li>
<li><a href="https://pu2clr.github.io/KT0915#about-kt0915-dsp-radio">About KT0915 DSP radio</a><ul>
<li><a href="https://pu2clr.github.io/KT0915#kt0915-pinout">KT0915 pinout</a></li>
</ul>
</li>
<li><a href="https://pu2clr.github.io/KT0915#schematic">SCHEMATIC</a></li>
<li><a href="https://pu2clr.github.io/KT0915/extras/docs/html/index.html">API Documentation</a></li>
<li><a href="https://github.com/pu2clr/KT0915/tree/master/examples">Examples</a></li>
<li><a href="https://pu2clr.github.io/KT0915#videos">Videos</a></li>
<li><a href="https://pu2clr.github.io/KT0915#references">References</a></li>
</ol>
<h2><a class="anchor" id="autotoc_md2"></a>
Preface</h2>
<p>The <a class="el" href="group___g_a01.html#class_k_t0915" title="KT0915 Class.">KT0915</a> is a full band AM (LW, MW and SW) and FM DSP receiver that can provide you a easy way to build a high quality radio with low cost. This device, will surprise hobbyists and experimenters with its simplicity.</p>
<p>In this document you will see Arduino source codes, schematics, examples and tips to help you to build a receiver based on Arduino board and the <a class="el" href="group___g_a01.html#class_k_t0915" title="KT0915 Class.">KT0915</a> device. The project and examples shown here do not intend to be a real receiver for exigent listener. However, it is possible to start with it and after add some improvements. On the other hand, with the simple circuits shown here, the experimenter may be surprised with its performance.</p>
<h2><a class="anchor" id="autotoc_md3"></a>
See also</h2>
<ol type="1">
<li><a href="https://pu2clr.github.io/SI4735/">PU2CLR Si4735 Library for Arduino</a>. This library was built based on “Si47XX PROGRAMMING GUIDE; AN332” and it has support to FM, AM and SSB modes (LW, MW and SW). It also can be used on all members of the SI47XX family respecting, of course, the features available for each IC version;</li>
<li><a href="https://github.com/pu2clr/SI4844">PU2CLR SI4844 Arduino Library</a>. This is an Arduino library for the SI4844, BROADCAST ANALOG TUNING DIGITAL DISPLAY AM/FM/SW RADIO RECEIVER, IC from Silicon Labs. It is available on Arduino IDE. This library is intended to provide an easier interface for controlling the SI4844.</li>
<li><a href="https://pu2clr.github.io/AKC695X/">PU2CLR AKC695X Arduino Library</a>. The AKC695X is a family of IC DSP receiver from AKC technology. The AKC6955 and AKC6959sx support AM and FM modes. On AM mode the AKC6955 and AKC6959sx work on LW, MW and SW. On FM mode they work from 64MHz to 222MHz.</li>
</ol>
<h2><a class="anchor" id="autotoc_md4"></a>
Your support is important</h2>
<p>If you would like to support this library development, consider joining this project via Github. Alternatively, make suggestions on new features and report errors if you find them. Thank you!</p>
<h2><a class="anchor" id="autotoc_md5"></a>
Library Features</h2>
<p>This library uses the I²C communication protocol and implements most of the functions offered by the <a class="el" href="group___g_a01.html#class_k_t0915" title="KT0915 Class.">KT0915</a> (BROADCAST AM / FM / SW / LW RECEIVER).</p>
<p>The main features of this library are listed below.</p>
<ol type="1">
<li>Open Source. It is free. You can use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software. See <a href="https://pu2clr.github.io/AKC695X/#mit-license">MIT License to know more</a>;</li>
<li>Built based on <a href="http://maximradio.altervista.org/akc6955/AKC6955-datasheet-english.pdf">AKC6955 stereo FM / TV / MW / SW / LW digital tuning radio</a>;</li>
<li>C++ Language and Object-oriented programming. You can easily extend the AKC695X class by adding more functionalities;</li>
<li>Available on Arduino IDE (via Manage Libraries). Easy to install and use;</li>
<li>Cross-platform. You can compile and run this library on most of board available on Arduino IDE (Examples: ATtiny85, boards based on ATmega328 and ATmega-32u4, ATmega2560, ARM Cortex, STM32, Arduino DUE, ESP32 and more);</li>
<li>Simplifies projects based on <a class="el" href="group___g_a01.html#class_k_t0915" title="KT0915 Class.">KT0915</a> IC;</li>
<li>Seeking function support;</li>
<li>Support to <b>32.768KHz, 6.5MHz, 7.6MHz, 12MHz, 13MHz, 15.2MHz, 19.2MHz, 24MHz, and 26MHz</b> crystal oscillators;</li>
<li>Support to audio controlled by the MCU (Arduino) or potentiometer;</li>
<li>Real tim FM stereo or mono indicator;</li>
<li>FM stereo or mono selecting;</li>
<li>Real time signal level reading;</li>
<li>Real time AM and FM carrier to noise ratio information (dB).</li>
<li>Bandwidth selection for FM;</li>
<li>Custom band support;</li>
<li>More than 40 functions implemented.</li>
</ol>
<h2><a class="anchor" id="autotoc_md6"></a>
MIT License</h2>
<p>Copyright (c) 2019 Ricardo Lima Caratti</p>
<p>Permission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the "Software"), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions:</p>
<p>The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.</p>
<p>THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE ARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.</p>
<p><br  />
</p>
<h2><a class="anchor" id="autotoc_md7"></a>
Library Installation</h2>
<p>You can install this library on your Arduino environment using different methods. The best ways to do that are described below. <br  />
</p>
<h3><a class="anchor" id="autotoc_md8"></a>
Installing via Arduino IDE</h3>
<p>// TODO</p>
<h2><a class="anchor" id="autotoc_md9"></a>
About KT0915 DSP radio</h2>
<p>According to __"Monolithic Digital FM/MW/SW/LW Receiver Radio on a Chip(TM); KT0915"__ document from KTMicro, "the <a class="el" href="group___g_a01.html#class_k_t0915" title="KT0915 Class.">KT0915</a> is a fully integrated full band AM/FM digital radio receiver IC with patented technologies that offer full band FM/MW/SW/LW functionality, high quality audio performance, simple design and low BOM cost. The direct frequency and volume control interface help custumers to maintain the classic looks of their existing products.</p>
<p>Thanks to the patented tuning technology, the receiver maintains good signal reception with short antenna. The chip consumes only 22mA current and can be powered by 2 AAA batteries. Another useful feature is that the volume and channel setup can be preserved in standby mode without external memories. <a class="el" href="group___g_a01.html#class_k_t0915" title="KT0915 Class.">KT0915</a> supports a wide range of reference clocks from 32.768KHz to 26MHz, hence can share system clocks with a varieties of MCUs further reducing the system BOM cost.</p>
<p>With high audio performance, fully integrated features and low BOM cost, <a class="el" href="group___g_a01.html#class_k_t0915" title="KT0915 Class.">KT0915</a> is ideal for various FM/MW/SW/LW applications and products".</p>
<h3><a class="anchor" id="autotoc_md10"></a>
KT0915 features</h3>
<ol type="1">
<li>Worldwide full band FM/MW/SW/LW support FM: 32MHz-110MHz<ul>
<li>MW: 500KHz-1710KHz</li>
<li>FM: 32MHz-110MHz</li>
<li>MW: 500KHz-1710KHz SW: 1.6MHz~32MHz LW: 150KHz ~ 280KHz</li>
</ul>
</li>
<li>Fully integrated frequency synthesizer with no external component</li>
<li>High Sensitivity<ul>
<li>1.6uVEMF for FM</li>
<li>16uVEMF for AM</li>
</ul>
</li>
<li>High Fidelity<ul>
<li>SNR (FM/AM): 60dB/55dB</li>
<li>THD: 0.3%</li>
</ul>
</li>
<li>Low supply voltage: 2.2V to 3.6V, can be supplied by 2 AAA batteries</li>
<li>Automatic antenna tuning</li>
<li>Adjustable AM channel filters (2k/4k/6KHz)</li>
<li>Embedded FM SNR meter</li>
<li>Fast seek/Tune</li>
<li>Integrated stereo headphone driver I2C control interface for MCU</li>
<li>Support traditional dial and digital key for frequency tuning and volume control</li>
<li>Memorize channel and volume in standby mode</li>
<li>Low Supply Current - 22mA (operating) &lt;15uA (standby)</li>
<li>Support both 32.768KHz and 38KHz crystal</li>
<li>Support continuous reference frequency from 32.768KHz to 26MHz</li>
</ol>
<p>Source: __"Monolithic Digital FM/MW/SW/LW Receiver Radio on a Chip(TM); KT0915"__ document from KTMicro</p>
<h3><a class="anchor" id="autotoc_md11"></a>
KT0915 Pinout</h3>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">Pin Number </th><th class="markdownTableHeadNone">Pin Name </th><th class="markdownTableHeadNone">Description  </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">1 </td><td class="markdownTableBodyNone">CH </td><td class="markdownTableBodyNone">Channel Adjustment. Used to deal with mechanical tune option  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">2 </td><td class="markdownTableBodyNone">DVSS </td><td class="markdownTableBodyNone">Digital Ground  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">3 </td><td class="markdownTableBodyNone">ROUT </td><td class="markdownTableBodyNone">Righ channel audio output  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">4 </td><td class="markdownTableBodyNone">LOUT </td><td class="markdownTableBodyNone">Left channel audio output  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">5 </td><td class="markdownTableBodyNone">AVSS </td><td class="markdownTableBodyNone">Analog ground  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">6 </td><td class="markdownTableBodyNone">AVDD </td><td class="markdownTableBodyNone">Power Supply  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">7 </td><td class="markdownTableBodyNone">XI/RCLK </td><td class="markdownTableBodyNone">Crystal input or reference clock input setup  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">8 </td><td class="markdownTableBodyNone">XO </td><td class="markdownTableBodyNone">Crystal Output  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">9 </td><td class="markdownTableBodyNone">ENABLE </td><td class="markdownTableBodyNone">Chip enable. Tied to an internal 600kohm pull down resistor  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">10 </td><td class="markdownTableBodyNone">AMINN </td><td class="markdownTableBodyNone">AM RF negative input  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">11 </td><td class="markdownTableBodyNone">AMINP </td><td class="markdownTableBodyNone">AM RF positive input  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">12 </td><td class="markdownTableBodyNone">RFINP </td><td class="markdownTableBodyNone">FM RF input  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">13 </td><td class="markdownTableBodyNone">RFGND </td><td class="markdownTableBodyNone">RF ground  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">14 </td><td class="markdownTableBodyNone">SCL </td><td class="markdownTableBodyNone">SCL of I2C bus. Tied to an internal 47kohm pull-up resistor  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">15 </td><td class="markdownTableBodyNone">SDA </td><td class="markdownTableBodyNone">SDA of I2C bus. Tied to an internal 47kohm pull-up resistor  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">16 </td><td class="markdownTableBodyNone">VOL </td><td class="markdownTableBodyNone">Volume adjustment. Used to deal with mechanical volume control  </td></tr>
</table>
<h3><a class="anchor" id="autotoc_md12"></a>
KT0915 SSOP16L package</h3>
<p><img src="https://pu2clr.github.io/KT0915/extras/images/KT0915_SSOP16L.png" alt="KT0915 SSOP16L package" class="inline"/></p>
<h4><a class="anchor" id="autotoc_md13"></a>
About the Pin 1 (CH) and Pin 16 (VOL)</h4>
<p>The <a class="el" href="group___g_a01.html#class_k_t0915" title="KT0915 Class.">KT0915</a> can be configured to deal with mechanical tuning via a variable resistors. For example, you can use a variable resistor to control the audio volume and another to tuninig the receiver. This resource is enabled by setting the internal register GPIOCFG (Address 0x1D) of the device. The dial can be a variable resistor with the tap connected to CH and VOL as well. The divided voltage at the tap is processed by the internal <a class="el" href="group___g_a01.html#class_k_t0915" title="KT0915 Class.">KT0915</a> analog to digital converter (ADC). Finally, the converted datas are stored into the internal registers of the <a class="el" href="group___g_a01.html#class_k_t0915" title="KT0915 Class.">KT0915</a> device.</p>
<p>By default, this library the tune an volume are conttrolled by the Arduino. However, you can sets the mechanical feature by calling setTuneDialModeOn and setVolumeDialModeOn. See <a href="https://pu2clr.github.io/KT0915/extras/docs/html/index.html">API Documentation</a>.</p>
<p>See the <a class="el" href="group___g_a01.html#class_k_t0915" title="KT0915 Class.">KT0915</a>; Monolithic Digital FM/MW/SW/LW Receiver Radio on a Chip(TM); pages: 8, 9, 10 and 20.</p>
<h2><a class="anchor" id="autotoc_md14"></a>
SCHEMATIC</h2>
<h2><a class="anchor" id="autotoc_md15"></a>
Videos</h2>
<h2><a class="anchor" id="autotoc_md16"></a>
References</h2>
<p><a href="https://hackaday.io/project/12944-radio-yes-am-sw-fm-radio-by-dsp-radio-chip">Radio, yes AM-SW-FM radio by DSP radio chip</a> <a href="https://github.com/kodera2t/KT0915_DSP_RADIO-fullscreen-info">KT0915_DSP_RADIO-fullscreen-info</a> <a href="https://easyeda.com/wolfezrawilliam/KT0915-Arduino">KT0915 Arduino</a> </p>
</div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.17 </li>
  </ul>
</div>
</body>
</html>
